<h2>Chat with {{ other_user.username }}</h2>

<div style="border:1px solid #ccc; padding:10px; max-height:300px; overflow-y:auto;">
  {% for msg in messages %}
    <p><b>{{ msg.sender.username }}:</b> {{ msg.message }} <small>({{ msg.timestamp }})</small></p>
  {% endfor %}
</div>

<form method="POST">
  <input type="text" name="message" placeholder="Type a message..." required>
  <button type="submit">Send</button>
</form>

<a href="{{ url_for(session['role'] + '_dashboard') }}">Back</a>
